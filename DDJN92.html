<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>在线社交平台</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-size: 2.5em; /* Increase font size to 1.5 times */
        }

        #countdown {
            font-size: 48px; /* 放大字体大小 */
            margin-top: 20px;
        }

        #interactionText {
            font-size: 24px;
            margin-top: 10px;
            text-align: center; /* 文字居中 */
            font-weight: bold; /* 加粗字体 */
        }

        #interactionText span {
            color: red; /* 设置文字颜色为红色 */
        }
    </style>
    <script>
        // 从URL中获取传递的参数
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        // 获取text参数的值
        var text = getParameterByName('text');

        // 获取purpose参数的值
        var purpose = getParameterByName('purpose');
    </script>
</head>
<body>
    <div style="text-align: center;">
        <h1 style="font-weight: bold;">这时你可以回想你评论的内容</h1>
        <h1 style="font-weight: bold;">动态正在展示中</h1>
    </div>

    <!-- 等待提示 -->
    <div id="message">请耐心等待</div>

    <!-- 倒计时显示 -->
    <div id="countdown"></div>

    <!-- a的值显示 -->
    <div id="value">已有<span id="aValue">0</span>人浏览了你的评论</div>

    <script>
        var seconds = 20; // 总倒计时秒数
        var a = 0; // a的初始值

        // 更新倒计时显示
        function updateCountdown() {
            var countdownElement = document.getElementById("countdown");
            countdownElement.textContent = "(" + seconds + "S)";

            seconds--;

            // 检查是否继续倒计时
            if (seconds >= 0) {
                setTimeout(updateCountdown, 1000); // 1秒

                // 随机增加a的值
                a += Math.floor(Math.random() * 7) + 1;
                if (a > 90) {
                    a = 90;
                }

                // 更新a的值显示
                var valueElement = document.getElementById("aValue");
                valueElement.textContent = a;
                valueElement.style.color = "red";
                valueElement.style.fontWeight = "bold";
            }
        }

        setTimeout(function() {
            // 跳转到第二个页面，并传递参数和a的值
            window.location.href = "DDJN10.html?purpose=" + encodeURIComponent(purpose);
        }, (seconds + 1) * 1000); // 转换为毫秒，增加1秒的延迟

        // 开始倒计时
        updateCountdown();
    </script>
</body>
</html>
